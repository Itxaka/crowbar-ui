.database-configuration-page
    h2(translate='') upgrade.steps.database-configuration.title
    // TODO(itxaka): temporal crappy solution to show the errors for testing
    ul.list-group
        li.list-group-item(ng-repeat='error in upgradeDatabaseVm.errors') {{ error }}

    uib-tabset(active='active')
        uib-tab(index='0', heading="{{'upgrade.steps.database-configuration.navigation-tabs.create-database' | translate}}")
            form.database-form.new(name="newForm")
                .row
                    .col-md-8
                        .form-group
                            label(translate='') upgrade.steps.database-configuration.database-form.username
                            input.form-control(type='text', name='username',
                            required='', ng-model='upgradeDatabaseVm.databaseForm.username')
                    .col-md-8
                        .form-group
                            label(translate='') upgrade.steps.database-configuration.database-form.password
                            input.form-control(type='password', name='password', required='', ng-model='upgradeDatabaseVm.databaseForm.password')
                    .col-md-4
                        button.btn.btn-success.pull-left.btn-lg(
                            ng-click="upgradeDatabaseVm.createServer()",
                            ng-disabled="newForm.$invalid || upgradeDatabaseVm.running || upgradeDatabaseVm.completed",
                            ng-class="{\
                                'spinner-visible': upgradeDatabaseVm.spinnerVisible,\
                                active: upgradeDatabaseVm.running}"
                        )
                            suse-lazy-spinner(delay="2000", active="upgradeDatabaseVm.running",
                                visible="upgradeDatabaseVm.spinnerVisible"
                            )
                            span(translate='') upgrade.steps.database-configuration.database-form.create-database

        uib-tab(index='1', heading="{{'upgrade.steps.database-configuration.navigation-tabs.connect-database' | translate}}")
            form.database-form.existing(name="existingForm")
                .row
                    .col-md-8
                        .form-group
                            .server
                                label(translate='') upgrade.steps.database-configuration.database-form.server
                                input.form-control(type='text', name='host' required='', ng-model='upgradeDatabaseVm.databaseForm.host')
                    .col-md-4
                        .form-group
                            .port
                                label(translate='') upgrade.steps.database-configuration.database-form.port
                                input.form-control(type='text', required='', ng-model='upgradeDatabaseVm.databaseForm.port')
                    .col-md-8
                        .form-group
                            label(translate='') upgrade.steps.database-configuration.database-form.username
                            input.form-control(type='text', required='', ng-model='upgradeDatabaseVm.databaseForm.username')
                    .col-md-8
                        .form-group
                            label(translate='') upgrade.steps.database-configuration.database-form.password
                            input.form-control(type='password', required='', ng-model='upgradeDatabaseVm.databaseForm.password')
                    .col-md-4
                        button.btn.btn-success.pull-left.btn-lg(
                            ng-click="upgradeDatabaseVm.connectServer()",
                            ng-disabled="existingForm.$invalid || upgradeDatabaseVm.running || upgradeDatabaseVm.completed",
                            ng-class="{\
                                'spinner-visible': upgradeDatabaseVm.spinnerVisible,\
                                active: upgradeDatabaseVm.running}"
                        )
                            suse-lazy-spinner(delay="2000", active="upgradeDatabaseVm.running",
                                visible="upgradeDatabaseVm.spinnerVisible"
                            )
                            span(translate='') upgrade.steps.database-configuration.database-form.connect-database
